<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Document</title>
	<script src="./libs/three.js"></script>
	<script src='./js/libs/stats.js'></script>
	<script src="./utils/config.js"></script>
	<script src="./utils/index.js"></script>
	<script src="./js/controls/TransformControls.js"></script>
	<script src='./js/controls/DragControls.js'></script>
	<script src="./js/loaders/OBJLoader.js"></script>
	<script src="./js/utils/SceneUtils.js"></script>
	<script src="./assets/dat.gui.min.js"></script>
	<script type="x-shader/x-vertex" id="vertexShader"> 
		void main(){
			 
		}
	</script>

	<!--片元着色器程序-->
	<script type="x-shader/x-fragment" id="fragmentShader"> 
		void main() { 
			
		}
	</script>
	<style>
		* {
			margin: 0;
			padding: 0
		}

		#app {
			position: absolute;
			top: 0;
			right: 0;
			bottom: 0;
			left: 0;
			overflow: hidden;
		}
	</style>
</head>

<body>

	<div id="app"></div>
	<script>
		var uniforms1
		var groups = [];
		var Dev = new DevThree({
			id: "app",
			camera: {
				position: {
					x: 300,
					y: 1100,
					z: 1800
				}
			},
			stats: true,
			transformControls: true,
			click: function (datas) {

			},
			created({
				scene,
				DragMeshs
			}) {
				var geometry = new THREE.RingBufferGeometry(1, 5, 32);
				// var geometry = new THREE.BufferGeometry();
				/* geometry.vertices.push(
					new THREE.Vector3(-100, 0, 0),
					new THREE.Vector3(0, 100, 0),
					new THREE.Vector3(100, 0, 0)
				); */
				var count = geometry.attributes.position.count;
				console.log(geometry.attributes.position)
				console.log(count)
				var customColor = new THREE.Float32BufferAttribute(count * 3, 3);
				geometry.addAttribute('customColor', customColor);

				var color = new THREE.Color(0xffffff);
				for (var i = 0, l = customColor.count; i < l; i++) {
					color.setHSL(i / l, 0.5, 0.5);
					color.toArray(customColor.array, i * customColor.itemSize);
				} 
				uniforms = {
					u_resolution: {
						value: new THREE.Vector2()
					},
					vcolor: {
						value: new THREE.Color("#5588aa")
					},
					time: {
						value: 0
					}
				};
				var material = new THREE.ShaderMaterial({
					uniforms: uniforms,
					vertexShader: document.getElementById('vertexShader').textContent,
					fragmentShader: document.getElementById('fragmentShader').textContent,

				});
				/* var material = new THREE.LineBasicMaterial({
					color: 0xff0000
				}); */
				// var material = new THREE.MeshBasicMaterial( {color: 0x00ff00} );
				var positions = [];
				var radius = 100;
				for (var i = 0; i < 100; i++) {
					positions.push((Math.random() * 2 - 1) * radius);
					positions.push((Math.random() * 2 - 1) * radius);
					positions.push((Math.random() * 2 - 1) * radius);
				}
				// geometry.addAttribute('position', new THREE.Float32BufferAttribute(positions, 3));
				// Create the final object to add to the scene
				var curveObject = new THREE.Mesh(geometry, material);
				curveObject.position.set(0, 0, 0)
				scene.add(curveObject)
				let time = 0
				window.addEventListener("mousemove", function (event) {
					time = event.layerX / window.innerWidth

				})
				setInterval(() => {
					// uniforms.u_resolution.value = new THREE.Vector2(Math.random()*100,Math.random()*100)
					uniforms.time.value = time
				}, 10)
			}
		})
	</script>
</body>

</html>